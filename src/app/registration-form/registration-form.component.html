@if(!isAdmin) {
  <form [formGroup]="registrationForm" (ngSubmit)="onSubmitPublic()" class="card bg-base-100 shadow-xl max-w-md mx-auto p-6">
    <div class="form-control">
      <label class="label">
        <span class="label-text">Prénom</span>
      </label>
      <input id="firstName" formControlName="firstName" type="text" class="input input-bordered w-full" />
      @if(isFieldInvalid('firstName')) {
        <span class="text-error text-sm">Prénom invalide</span>
      }
    </div>

    <div class="form-control">
      <label class="label">
        <span class="label-text">Nom</span>
      </label>
      <input id="lastName" formControlName="lastName" type="text" class="input input-bordered w-full" />
      @if(isFieldInvalid('lastName')) {
        <span class="text-error text-sm">Nom invalide</span>
      }
    </div>

    <div class="form-control">
      <label class="label">
        <span class="label-text">Email</span>
      </label>
      <input id="email" formControlName="email" type="email" class="input input-bordered w-full" (blur)="checkUserExists()" />
      @if(isFieldInvalid('email')) {
        <span class="text-error text-sm">Email invalide</span>
      }
    </div>

    <div class="form-control">
      <label class="label">
        <span class="label-text">Mot de passe</span>
      </label>
      <input id="password" formControlName="password" type="password" class="input input-bordered w-full" />
      @if(isFieldInvalid('password')) {
        <span class="text-error text-sm">Mot de passe invalide</span>
      }
    </div>

    <div class="form-control">
      <label class="label">
        <span class="label-text">Date de naissance</span>
      </label>
      <input id="birthDate" formControlName="birthDate" type="date" class="input input-bordered w-full" />
      @if(isFieldInvalid('birthDate')) {
        <span class="text-error text-sm">Vous devez avoir plus de 18 ans</span>
      }
    </div>

    <div class="form-control">
      <label class="label">
        <span class="label-text">Ville</span>
      </label>
      <input id="city" formControlName="city" type="text" class="input input-bordered w-full" />
      @if(isFieldInvalid('city')) {
        <span class="text-error text-sm">Ville invalide</span>
      }
    </div>

    <div class="form-control">
      <label class="label">
        <span class="label-text">Code postal</span>
      </label>
      <input id="postalCode" formControlName="postalCode" type="text" class="input input-bordered w-full" />
      @if(isFieldInvalid('postalCode')) {
        <span class="text-error text-sm">Code postal invalide</span>
      }
    </div>

    <button type="submit" [disabled]="registrationForm.invalid || userExists" class="btn btn-primary w-full mt-4">
      Enregistrer
    </button>
  </form>
} @else {
  <form [formGroup]="registrationForm" (ngSubmit)="onSubmitAdmin()" class="card bg-base-100 shadow-xl max-w-md mx-auto p-6">
    <div class="form-control">
      <label class="label">
        <span class="label-text">Prénom</span>
      </label>
      <input id="firstName" formControlName="firstName" type="text" class="input input-bordered w-full" />
      @if(isFieldInvalid('firstName')) {
        <span class="text-error text-sm">Prénom invalide</span>
      }
    </div>

    <div class="form-control">
      <label class="label">
        <span class="label-text">Nom</span>
      </label>
      <input id="lastName" formControlName="lastName" type="text" class="input input-bordered w-full" />
      @if(isFieldInvalid('lastName')) {
        <span class="text-error text-sm">Nom invalide</span>
      }
    </div>

    <div class="form-control">
      <label class="label">
        <span class="label-text">Email</span>
      </label>
      <input id="email" formControlName="email" type="email" class="input input-bordered w-full" (blur)="checkUserExists()" />
      @if(isFieldInvalid('email')) {
        <span class="text-error text-sm">Email invalide</span>
      }
    </div>

    <div class="form-control">
      <label class="label">
        <span class="label-text">Mot de passe</span>
      </label>
      <input id="password" formControlName="password" type="password" class="input input-bordered w-full" />
      @if(isFieldInvalid('password')) {
        <span class="text-error text-sm">Mot de passe invalide</span>
      }
    </div>

    <div class="form-control">
      <label class="label">
        <span class="label-text">Date de naissance</span>
      </label>
      <input id="birthDate" formControlName="birthDate" type="date" class="input input-bordered w-full" />
      @if(isFieldInvalid('birthDate')) {
        <span class="text-error text-sm">Vous devez avoir plus de 18 ans</span>
      }
    </div>

    <div class="form-control">
      <label class="label">
        <span class="label-text">Ville</span>
      </label>
      <input id="city" formControlName="city" type="text" class="input input-bordered w-full" />
      @if(isFieldInvalid('city')) {
        <span class="text-error text-sm">Ville invalide</span>
      }
    </div>

    <div class="form-control">
      <label class="label">
        <span class="label-text">Code postal</span>
      </label>
      <input id="postalCode" formControlName="postalCode" type="text" class="input input-bordered w-full" />
      @if(isFieldInvalid('postalCode')) {
        <span class="text-error text-sm">Code postal invalide</span>
      }
    </div>

    <div class="form-control">
      <label class="label">
        <span class="label-text">Rôle</span>
      </label>
      <select formControlName="role" class="select select-bordered w-full">
        <option value="user">Utilisateur</option>
        <option value="admin">Administrateur</option>
      </select>
    </div>

    <button type="submit" [disabled]="registrationForm.invalid || userExists" class="btn btn-primary w-full mt-4">
      Enregistrer
    </button>
  </form>
}
